var testeRelease="",ClasseId=function(a,b,c){this.conteudo=a?a:"";this.classe=b?b:"";this.id=c?c:"";this.attr=[]};ClasseId.prototype.setClasse=function(a){a&&(this.classe=a)};ClasseId.prototype.setId=function(a){a&&(this.id=a)};ClasseId.prototype.getClasse=function(){return this.classe};ClasseId.prototype.getId=function(){return this.id};ClasseId.prototype.addAtributo=function(a){a&&this.attr.push(a)};ClasseId.prototype.getConteudo=function(){return this.conteudo};
ClasseId.prototype.setConteudo=function(a){a&&(this.conteudo=a)};ClasseId.prototype.getAtributo=function(){var a="";this.attr.forEach(function(b){a+=" "+b});return a};var Para=function(a,b,c){ClasseId.call(this,a,b,c)};Para.prototype=new ClasseId;Para.prototype.constructor=Para;Para.prototype.setPara=function(a){this.conteudo=a};Para.prototype.getPara=function(){return'<p class="'+this.classe+'" id="'+this.id+'" '+this.getAtributo()+" >"+this.conteudo+"</p>"};
var Titulo=function(a,b,c,d){ClasseId.call(this,a,c,d);this.tamanho=0<b?b:1};Titulo.prototype=new ClasseId;Titulo.prototype.constructor=Titulo;Titulo.prototype.setTitulo=function(a){this.conteudo=a};Titulo.prototype.getTitulo=function(){return"<h"+this.tamanho+' class="'+this.classe+'" id="'+this.id+'" '+this.getAtributo()+" >"+this.conteudo+"\n\t</h"+this.tamanho+">"};var Div=function(a,b,c){ClasseId.call(this,a,b,c)};Div.prototype=new ClasseId;Div.prototype.constructor=Div;
Div.prototype.getDiv=function(){return'<div class="'+this.classe+'" id="'+this.id+'" '+this.getAtributo()+" >"+this.conteudo+"</div>"};var Img=function(a,b,c){ClasseId.call(this,a,b,c)};Img.prototype=new ClasseId;Img.prototype.constructor=Img;Img.prototype.getImg=function(){return'<img src="'+this.conteudo+'" class="'+this.classe+'" id="'+this.id+'" '+this.getAtributo()+" />"};
var Tabela=function(a,b,c,d,e){this._rodape=[];this._cabecalho="";this._classeCabecalho=e;this._corpo=Array.isArray(b)&&Array.isArray(b[0])?b:[[]];this._estiloTd="";ClasseId.call(this,"",c,d);this._idDataTables="";this.opcoes={bPaginate:!1,ordering:!0,colReorder:!0,scrollY:250,scrollCollapse:!0,scrollX:!0,info:!1,responsive:!0,autoWidth:!1,search:{regex:!0},retrieve:!0,language:{search:"Procurar na tabela",emptyTable:"Nao ha dados",zeroRecords:"Sem registros com valor informado",decimal:",",thousands:"."}};
this.setCabecalho(a)};Tabela.prototype=new ClasseId;Tabela.prototype.constructor=Tabela;Tabela.prototype.setCabecalho=function(a){if(!Array.isArray(a))throw new SyntaxError("FAVOR ENVIAR SOMENTE ARRAYS PARA O CABECALHO.VALOR ENVIADO "+JSON.stringify(a));if(!Array.isArray(this._corpo[0])||0!==this._corpo[0].length&&this._corpo[0].length!==a.length)throw new SyntaxError("N\u00c3O PODE SER ENVIADO UM CABECALHO DE TAMANHO DIFERENTE DO CORPO ATUAL "+JSON.stringify(a));this._cabecalho=a;return!0};
Tabela.prototype.setCorpo=function(a){var b=this;if(Array.isArray(a)&&Array.isArray(a[0]))return a.forEach(function(a,d){if(a.length!==b._cabecalho.length)throw new SyntaxError("FALHA, UM DOS REGISTROS TEM O TAMANHO DIFERENTE DO CABECALHO:\n\t\t\t\t REGISTRO "+d+" VALOR DO ARRAY:"+JSON.stringify(a));}),this._corpo=a,!0;console.log("O corpo enviado n\u00e3o \u00e9 um array ou n\u00e3o cont\u00e9m um array alinhado.")};
Tabela.prototype.getTabela=function(){return'<div class="tabe table-responsive small">'+this._getTabela()+"</div>"};
Tabela.prototype._getTabela=function(){var a=this,b='<table class="'+this.classe+'" id="'+this.id+'">',c="<tbody>",d='<thead><tr class="'+this._classeCabecalho+'">';this._corpo.forEach(function(b){var d="<tr>";b.forEach(function(b){d+='<td style="'+a._estiloTd+'">'+b+"</td>"});d+="</tr>";c+=d});c+="</tbody>";this._cabecalho.forEach(function(a){d+="<th>"+a+"</th>"});d+="</tr></thead>";this._rodape.length===this._cabecalho.length&&(c+='<tfoot><tr class="'+this._classeCabecalho+'">',this._rodape.forEach(function(a){c+=
"<td>"+a+"</td>"}),c+="</tr></tfoot>");return b+(d+c+"</table>")};Tabela.prototype.getIdDataTable=function(){return this._idDataTables};
Tabela.prototype.getTabelaDinamica=function(a,b,c){var d=this;if(null===this._corpo[0][a])return"A coluna informada n\u00e3o existe";if(!Array.isArray(b))return"O arrayValoresMonetarios n\u00e3o \u00e9 um array, ent\u00e3o n\u00e3o \u00e9 possivel determinar quais serao as colunas monetarias";var e={};this._corpo.forEach(function(f,k){var g=d._corpo[k][a];if("undefined"==typeof e[g]){e[g]=[];var h=JSON.stringify(f);h=JSON.parse(h);h[c]="- -";e[g].push(h);b.forEach(function(a,c){e[g][0][b[c]]=0})}});
this._corpo.forEach(function(c,f){var g=d._corpo[f][a];b.forEach(function(a,d){var f=b[d];e[g][0][f]+=c[f]})});this._corpo.forEach(function(b,d){var f=b[a],g=JSON.stringify(b);g=JSON.parse(g);g[a]=g[c];g[c]="- -";e[f].push(g)});var f={};for(k in e)f.$jscomp$loop$prop$z$8=k,e[f.$jscomp$loop$prop$z$8].forEach(function(a){return function(c,d){b.forEach(function(b,c){e[a.$jscomp$loop$prop$z$8][d][b]=converter(parseFloat(e[a.$jscomp$loop$prop$z$8][d][b]).toFixed(2))})}}(f)),f={$jscomp$loop$prop$z$8:f.$jscomp$loop$prop$z$8};
f='<table class="'+this.classe+'" id="'+this.id+'">';var k="<tbody>";var l='<thead><tr class="'+this._classeCabecalho+'">',g=this._cabecalho;this._rodape.length===this._cabecalho.length&&b.forEach(function(a,b){var c=converter(parseFloat(d._rodape[a]).toFixed(2));d._rodape[a]=c});for(var h in e)for(var q=e[h][0][a].replace(/ /g,"_"),m=0;m<e[h].length;m++){var n="";n=0==m?'<tr id="'+q+'" style="color:red;font-weight:bold;cursor:pointer">':'<tr class="'+q+'" style="display:none">';for(var p=0;p<e[h][m].length;p++)n+=
"<td>"+e[h][m][p]+"</td>";n+="</tr>";k+=n}k+="<tbody>";for(h=0;h<g.length;h++)l+="<th>"+g[h]+"</th>";if(this._rodape.length==g.length){k+='<tfoot><tr class="'+this._classeCabecalho+'">';for(h=0;h<this._rodape.length;h++)k+="<th>"+this._rodape[h]+"</th>";k+="</tr></tfoot>"}return f+(l+"</tr></thead>"+k+"</table>")};
Tabela.prototype.clickTabelaDinamica=function(){$("tbody tr").each(function(){if("undefined"!==typeof $(this).attr("id")){var a=$(this).attr("id");$("#"+a+" td").bind("click",function(){$("."+a).slideToggle();$.fn.dataTable.tables({visible:!0,api:!0}).columns.adjust()})}})};
Tabela.prototype.setRodape=function(a){if(!Array.isArray(a))return new SyntaxError("O QUE FOI ENVIADO NAO E UM ARRAY.VALOR ENVIADO: "+a),!1;if(a.length!==this._cabecalho.length)return new SyntaxError("O RODAPE ENVIADO E DIFERENTE DO TAMANHO DO CABECALHO DA TABELA. VALOR ENVIADO "+a),!1;this._rodape=JSON.parse(JSON.stringify(a));return!0};
Tabela.prototype.setClasseCabecalho=function(a){if("string"===typeof a)return this._classeCabecalho=a,!0;console.log("ENVIOU UM ESTILO QUE NAO E UMA STRING "+a);return!1};
Tabela.prototype.setEstiloTd=function(a){if("string"===typeof a)this._estiloTd=a;else if("object"===typeof a){var b="",c;for(c in a)b+=c+":"+a[c]+";";this._estiloTd=b}else throw console.log("ENVIOU UM ESTILO QUE NAO E UMA STRING "+a),new SyntaxError("FAVOR ENVIAR UMA STRING OU UM OBJETO COM ESTILOS");"object"===typeof this._idDataTables&&($("#"+this.id).DataTable().destroy(),$("#"+this.id).parent().html(this._getTabela()),this._idDataTables=$("#"+this.id).DataTable(this.opcoes));return!0};
Tabela.prototype._validaIndice=function(a,b){var c=!0;this._corpo.forEach(function(b){if("undefined"===typeof b[a])return c=!1});if(!c)throw new SyntaxError("INDICE SOLICITADO NAO EXISTE: "+b+" -> "+a);return c};Tabela.prototype.removeColuna=function(a){this._validaIndice(a,"IMPOSSSIVEL REMOVER ");this._corpo.forEach(function(b){b.splice(a,1)});this._cabecalho.splice(a,1);return!0};
Tabela.prototype.converterMonetario=function(a){var b=this,c=!0;if("number"!==typeof a&&!Array.isArray(a))return console.error("PARAMETRO ENVIADO NAO E UM NUMERO E NEM MESMO UM ARRAY"),!1;"number"===typeof a?(this._validaIndice(a,"NAO FOI POSSIVEL CONVERTER"),this._corpo.forEach(function(d,e){"number"===typeof d[a]?b._corpo[e][a]=converter(parseFloat(d[a]).toFixed(2)):-1!=d[a].search("R\\$")?console.log("NAO PRECISA CONVERTER, JA E UM NUMERO"):(console.log("N\u00c3O FOI POSSIVEL CONVERTER POIS A COLUNA INFORMADA NAO E UM NUMERO"),
c=!1)})):this._corpo.forEach(function(d,e){a.forEach(function(a){b._validaIndice(a,"NAO FOI POSSIVEL CONVERTER");"number"===typeof d[a]?b._corpo[e][a]=converter(parseFloat(d[a]).toFixed(2)):-1!=d[a].search("R\\$")?console.log("NAO PRECISA CONVERTER, JA E UM NUMERO"):(console.log("N\u00c3O FOI POSSIVEL CONVERTER POIS A COLUNA INFORMADA NAO E UM NUMERO"),c=!1)})});return c};
Tabela.prototype.converterPercentual=function(a){var b=this,c=!0;this._validaIndice(a);this._corpo.forEach(function(d,e){"number"===typeof d[a]?b._corpo[e][a]=Math.round(parseFloat(100*d[a]).toFixed(1),1)+" %":-1!=d[a].search("\\%")?console.log("NAO PRECISA CONVERTER, JA E UM PERCENTUAL"):(console.log("N\u00c3O FOI POSSIVEL CONVERTER POIS A COLUNA INFORMADA NAO E UM NUMERO"),c=!1)});return c};
Tabela.prototype.filtro=function(a){var b=[];this._corpo.forEach(function(c){c.forEach(function(d,e){-1!=d.toString().search(a)&&b.push(c)})});return 0===b.length?[]:[this._cabecalho,b]};Tabela.prototype.getColuna=function(a){if("number"!==typeof a)throw new SyntaxError("FAVOR INFORMAR UM INDICE INICIANDO DO ZERO.");var b=[];this._corpo.forEach(function(c){b.push(c[a])});return b};
Tabela.prototype.getColunas=function(a){if(!Array.isArray(a))return console.log("FAVOR INFORNAR UM ARRAY DE INDICES."),!1;var b=[];this._corpo.forEach(function(c,d){b[d]=[];c.forEach(function(c,f){-1!=a.indexOf(f)&&b[d].push(c)})});return b};Tabela.prototype.desenhaDataTable=function(){try{return $("#"+this.id).DataTable().destroy(),this._idDataTables=$("#"+this.id).DataTable(this.opcoes),!0}catch(a){return console.log("VOCE PRECISA IMPORTAR A API DO DATATABLES PARA USAR ESTE RECURSO"),!1}};
Tabela.prototype.setOpcoes=function(a){if("object"===typeof a)return this.opcoes=a,!0;console.log("OS DADOS ENVIADOS NAO SAO UM OBJETO "+a);return!1};
Tabela.prototype.calculaRodape=function(a,b,c){var d=[];this._cabecalho.forEach(function(a){d.push(0)});if(!Array.isArray(this._corpo[0])||!Array.isArray(this._cabecalho))return console.log("Ainda nao foi definido um corpo e/ou cabecalho"),!1;if(!Array.isArray(a)||!Array.isArray(c)||a.length!==b.length)return console.log("Os parametros enviados n\u00e3o s\u00e3o um array, ou tamanhos incompativeis entre o parametro 1 e 2"),!1;a.forEach(function(a,c){d[a]=b[c]});this._corpo.forEach(function(b,f){b.forEach(function(b,
e){if(!a.includes(e)){var f=b;c.includes(e)&&(f="number"===typeof b?parseFloat(parseFloat(b).toFixed(2)):parseFloat(desconverter(b)));d[e]+=f}})});c.forEach(function(a){d[a]=converter(parseFloat(d[a]).toFixed(2))});this.setRodape(d);return!0};
Tabela.prototype.baixarEmExcel=function(a,b){if("undefined"===typeof b)return alert("INFORME DE ONDE RECUPERAR O EXCEL"),!1;var c="#"+this.id+"_botao",d="#"+this.id;if(1>$(d).length)return alert("ESTA TABELA NAO EXISTE "+d),!1;1>$(c).length&&$(d+"_wrapper").length&&$(d+"_wrapper").prepend((new Botao('<span class="glyphicon glyphicon-download-alt"></span> BAIXAR',"btn btn-xs btn-danger",c.replace("#",""))).getBotao());if(1>$(d+" tbody tr").length)return alert("ESTA TABELA N\u00c3O TEM DADOS "+d),!1;
$(c).unbind("click");$(c).bind("click",function(c){c.preventDefault();if("undefined"===typeof Storage){alert("N\u00c3O ser\u00e1 possivel salvar as colunas desejadas para baixar.");var e={cabe:[],corpo:[]};$(d+" thead tr").children().each(function(a,b){e.cabe.push($(this).text())});$(d+" tbody").children().each(function(a,b){var c=[];$(this).children().each(function(a,b){c.push($(this).text())});e.corpo.push(c)});$.ajax({method:"POST",url:b,data:{objeto:JSON.stringify(e)}}).done(function(a){window.location.href=
a}).fail(function(){alert("ERRO AO BAIXAR EM EXCEL. SE PERSISTIR ENTRAR EM CONTATO COM O ADMINISTRADOR DO SITE.")});return!1}var k=[];localStorage.getItem(a)&&(k=JSON.parse(localStorage.getItem(a)));var l="";$(d+" thead tr").children().each(function(a,b){l=-1!=k.indexOf(Number(a).toString())?l+('<input class="checa_colunas" checked type="checkbox" value="'+a+'" />'+$(this).text()+"<br/>"):l+'<input class="checa_colunas" type="checkbox" value="indice" /> VALOR<br/>'.replace("VALOR",$(this).text()).replace("indice",
a)});l+='<p class="text-center">'+(new Botao("BAIXAR","btn btn-xs btn-danger","baixar_selecionados")).getBotao()+"</p>";c=(new Titulo("ESCOLHA AS COLUNAS A BAIXAR",4,"text-center text-danger")).getTitulo();c=new Modal(c,l,'<button class="btn btn-xs btn-default" data-dismiss="modal">FECHAR</button>',"","modalExcel");c.setTipoModal(!0);$("#modalExcel").remove();$("body").append(c.getModal());c.executaModal();$("#baixar_selecionados").bind("click",function(c){c=$(".checa_colunas");var e=[];$(c).each(function(a,
b){$(this).prop("checked")&&e.push($(this).val())});localStorage.setItem(a,JSON.stringify(e));var f={cabe:[],corpo:[]};$(d+" thead tr").children().each(function(a,b){-1!=e.indexOf(Number(a).toString())&&f.cabe.push($(this).text())});$(d+" tbody").children().each(function(a,b){var c=[];$(this).children().each(function(a,b){-1!=e.indexOf(Number(a).toString())&&c.push($(this).text())});f.corpo.push(c)});$('[data-dismiss="modal"]').trigger("click");$.ajax({method:"POST",url:b,data:{objeto:JSON.stringify(f)}}).done(function(a){window.location.href=
a}).fail(function(){alert("ERRO AO BAIXAR EM EXCEL. SE PERSISTIR ENTRAR EM CONTATO COM O ADMINISTRADOR DO SITE.")})})})};Tabela.prototype.removeRegistro=function(a,b){var c=!1,d=!1;this._corpo.forEach(function(e,f){e.forEach(function(e,l){if(l===a&&-1!=e.search(b))return d=!0,c=f,!0});if(d)return!0});d&&this._corpo.splice(c,1);return c};
Tabela.prototype.atualizaRodape=function(a,b,c){if(!Array.isArray(a)||!Array.isArray(b))throw new SyntaxError("UM DOS PARAMETROS NAO \u00c9 UM ARRAY. SOMENTE SAO ACEITOS ARRAYS");if(a.length<b.length)throw new SyntaxError("O ARRAY DOS MONETARIOS NAO DEVE SER MAIOR QUE O ARRCAMPOS");a.forEach(function(a){if(isNaN(a)||!isFinite(a))throw new SyntaxError("UM DOS VALORES DE arrCampos NAO E UM NUMERO");});b.forEach(function(a){if(isNaN(a)||!isFinite(a))throw new SyntaxError("UM DOS VALORES DE arrCampos NAO E UM NUMERO");
});if(!document.querySelector("#"+this.id+"_wrapper"))throw new SyntaxError("NAO EXISTE UMA TABELA DATATABLES PARA APLICAR O atualizaRodape");var d=this;$("#"+d.id+'_wrapper [type="search"]').bind("keyup",function(){var e={};a.forEach(function(a){e[a]=0});$("#"+d.id+" tbody tr").each(function(a,c){var d=this;0<b.length&&b.forEach(function(a){var b=desconverter($(d).children().eq(a).text());b=parseFloat(b);e[a]+=b});for(var f in e)b.includes(parseInt(f))||(e[f]+=parseInt($(this).children().eq(f).text()))});
b.forEach(function(a){$("#"+d.id+"_wrapper .dataTables_scrollFootInner tfoot tr").children().eq(a).text(converter(parseFloat(e[a]).toFixed(2)))});for(var f in e)b.includes(parseInt(f))||$("#"+d.id+"_wrapper .dataTables_scrollFootInner tfoot tr").children().eq(f).text(e[f]);"function"===typeof c&&c();$.fn.dataTable.tables({visible:!0,api:!0}).columns.adjust()});return!0};var Link=function(a,b,c,d){this.link=a;ClasseId.call(this,b,c,d)};Link.prototype=new ClasseId;Link.prototype.constructor=Link;
Link.prototype.getLink=function(){return'<a href="'+this.link+'" class="'+this.classe+'" id="'+this.id+'" '+this.getAtributo()+" >"+this.conteudo+"</a>"};var Lista=function(a,b,c,d){this.itens=a instanceof Array?a:[];this.ordenada=b?"ol":"ul";ClasseId.call(this,"",c,d)};Lista.prototype=new ClasseId;Lista.prototype.constructor=Lista;
Lista.prototype.getLista=function(){var a="";this.itens.forEach(function(b){a+="<li>"+b+"</li>"});return"<"+this.ordenada+' class="'+this.classe+'" id="'+this.id+'" '+this.getAtributo()+" >"+a+"</"+this.ordenada+">"};var Botao=function(a,b,c){ClasseId.call(this,a,b,c)};Botao.prototype=new ClasseId;Botao.prototype.constructor=Botao;Botao.prototype.getBotao=function(){return'<button class="'+this.classe+'" id="'+this.id+'" '+this.getAtributo()+" >"+this.conteudo+"</button>"};
var Selecao=function(a,b,c){this.itens=[];this.nome=a;this.autoSelecionado="";ClasseId.call(this,"",b,c)};Selecao.prototype=new ClasseId;Selecao.prototype.addItem=function(a){Array.isArray(a)&&2==a.length?this.itens.push(a):console.log("\u00c9 necessario enviar um array com dois itens, um sendo o valor e outro o rotulo")};
Selecao.prototype.addItens=function(a){var b=this;if(Array.isArray(a))a.forEach(function(a){if(Array.isArray(a)&&2==a.length)b.itens.push(a);else return console.log("UM DOS ELEMENTOS NAO E UM ARRAY OU SEU TAMANHO E INFERIOR A 2."),!1});else return console.log("\u00c9 necessario enviar arrays aninhados, sendo que cada um deles deve ter o tamanho de 2. EX: [['hora','HORAS'],['dia','DIAS']]"),!1};
Selecao.prototype.getSelecao=function(){var a=this,b="<select name='"+this.nome+"' id='"+this.id+"' class='"+this.classe+"' "+this.getAtributo()+">";this.itens.forEach(function(c){b=c[0]==a.autoSelecionado||c[1]==a.autoSelecionado?b+("<option selected value='"+c[0]+"'>"+c[1]+"</option>"):b+("<option value='"+c[0]+"'>"+c[1]+"</option>")});return b+="</select>"};Selecao.prototype.setSelecionado=function(a){this.autoSelecionado=a};
var DivRow=function(a,b){this.tamanho=0;this.corpo=[];ClasseId.call(this,"",a,b)};DivRow.prototype=new ClasseId;DivRow.prototype.constructor=DivRow;DivRow.prototype.addDiv=function(a,b,c,d){if(12>=this.tamanho+b)this.tamanho+=b,this.corpo.push([a,b,"undefined"===typeof c?"":c,"undefined"===typeof d?"":d]);else return console.log("Tamanho enviado excede o limite de 12 grids."),!1};
DivRow.prototype.getDivRow=function(){var a='<div id="'+this.id+'" class="row '+this.classe+'">';this.corpo.forEach(function(b){a+='<div class="col-sm-'+b[1]+" "+b[2]+'" id="'+b[3]+'">'+b[0]+"</div>"});return a+="</div>"};var DivTabs=function(){this.lista=[];this.conteudo=[]};DivTabs.prototype.addDivTabs=function(a,b,c){"string"===typeof a&&-1===a.search("@")&&-1===b.search("@")&&"string"===typeof b&&"string"===typeof c?(this.lista.push(a+"@"+b),this.conteudo.push(c)):console.log("Alguma das informacoes nao foram repassadas corretamente, um simbolo de '@'' esta no nome ou no idDadiv e todos os parametros devem ser strings")};
DivTabs.prototype.getDivTabs=function(){var a=this;if(1>this.lista.length)return console.log("N\u00e3o \u00e9 possivel criar um divTab sem as informacoes"),!1;var b="<ul class='nav nav-tabs'>",c="<div class='tab-content'>";this.lista.forEach(function(d,e){var f=d.split("@");0===e?(b+="<li class='active'><a data-toggle='tab' href='#"+f[1]+"'>"+f[0]+"</a></li>",c+="<div id='"+f[1]+"' class='tab-pane fade in active'>"+a.conteudo[e]+"</div>"):(b+="<li><a data-toggle='tab' href='#"+f[1]+"'>"+f[0]+"</a></li>",
c+="<div id='"+f[1]+"' class='tab-pane fade '>"+a.conteudo[e]+"</div>")});b+="</ul>";c+="</div>";return b+c};var Modal=function(a,b,c,d,e){this.cabeModal=a;this.corpoModal=b;this.rodapeModal=c;this.tipoModal=!0;ClasseId.call(this,"",d,e)};Modal.prototype=new ClasseId;Modal.prototype.constructor=Modal;Modal.prototype.setCabeModal=function(a){this.cabeModal="undefined"===typeof a?"":a};Modal.prototype.setCorpoModal=function(a){this.corpoModal="undefined"===typeof a?"":a};
Modal.prototype.setRodapeModal=function(a){this.rodapeModal="undefined"===typeof a?"":a};Modal.prototype.setTipoModal=function(a){this.tipoModal="undefined"===typeof a?!1:a};
Modal.prototype.getModal=function(){var a="<div "+this.getAtributo()+' class="modal fade '+this.classe+'" id="'+this.id+'" role="dialog"><div class="modal-dialog"><div class="modal-content">';a+='<div class="modal-header">'+this.cabeModal+"</div>";a+='<div class="modal-body">'+this.corpoModal+"</div>";a+='<div class="modal-footer">'+this.rodapeModal+"</div>";return a+"</div></div></div>"};Modal.prototype.executaModal=function(){$("#"+this.id).modal({backdrop:this.tipoModal})};
var Vendedor=function(a,b,c){this.nome=a;this.imagem=b;this.dataAtendimento=this.tempoFinalizaAtendimento=this.tempoAtendimento="";this.isImagem=!0;ClasseId.call(this,"","",c)};Vendedor.prototype=new ClasseId;Vendedor.prototype.constructor=Vendedor;Vendedor.prototype.alteraImagem=function(){};Vendedor.prototype.setNome=function(a){this.nome=a};
Vendedor.prototype.getVendedor=function(){return(this.isImagem?'<img class="img img-circle" style="width:48px;height:48px;" title="'+this.nome+'"\n\tsrc="'+this.imagem+'" alt="'+this.nome+'" />'+this.nome.split(" ")[0]:'<span class="glyphicon glyphicon-user"> </span> '+this.nome)+'<time style="font-weight:bold" class="text-danger">'+this.tempoAtendimento+"</time>"};
Vendedor.prototype.getVendedorFull=function(){var a="";this.isImagem?(a+='<p id="'+this.id+'">',a+='<img class="img img-circle" style="width:48px;height:48px;" title="'+this.nome+'" src="'+this.imagem+'" alt="'+this.nome+'" />'+this.nome.split(" ")[0]):a+='<p id="'+this.id+'" imagem="'+this.imagem+'" title="'+this.nome+'"><span class="glyphicon glyphicon-user"> </span> '+this.nome;return a+=' <time style="font-weight:bold" class="text-danger">'+this.tempoAtendimento+"</time></p>"};
Vendedor.prototype.iniciaAtendimento=function(){this.tempoAtendimento=(new Date).toLocaleTimeString("pt-br");$("#"+this.id).find("time").html(this.tempoAtendimento);this.dataAtendimento=(new Date).toLocaleDateString("pt-br").split("/").reverse().join("-")};Vendedor.prototype.finalizaAtendimento=function(){this.tempoFinalizaAtendimento=(new Date).toLocaleTimeString("pt-br")};Vendedor.prototype.trocaExibicao=function(){this.isImagem=this.isImagem?!1:!0;$("#"+this.id).html(this.getVendedor())};
var Grafico=function(a,b,c,d){this.setDados(a);this.dadosModificados=[];this.opcoes=b;this.cores=[];this.total=0;this.refGraf="";ClasseId.call(this,"",c,d)};Grafico.prototype=new ClasseId;Grafico.prototype.constructor=Grafico;Grafico.prototype.setDados=function(a){Array.isArray(a)&&Array.isArray(a[0])&&1<a[0].length?this.dadosModificados instanceof Array&&1<=this.dadosModificados.length?this.dadosModificados=a:this.dados=a:console.log("Dados mal formatados.")};
Grafico.prototype.getPercentual=function(a){var b=1<this.dadosModificados.length?JSON.stringify(this.dadosModificados):JSON.stringify(this.dados);b=JSON.parse(b);for(var c=["TOTAL"],d=1;d<b.length;d++)if(a){for(var e=0,f=1;f<b[d].length;f++)isNaN(b[d][f])||(e+=b[d][f]);for(f=1;f<b[d].length;f++)isNaN(b[d][f])?isNaN(parseFloat(b[d][f].split(" ")[0]))||(b[d][f]=b[d][f-1]+" %"):b[d][f]=parseFloat(parseFloat(b[d][f]/e*100).toFixed(1))}else for(e=1;e<b[d].length;e++)isNaN(b[d][e])||(c[e]=c[e]?c[e]+b[d][e]:
b[d][e]);if(!a)for(a=1;a<b.length;a++)for(d=1;d<b[a].length;d++)isNaN(b[a][d])||(e=parseFloat(parseFloat(b[a][d]/c[d]*100).toFixed(2)),b[a][d]=e);return b};Grafico.prototype.addColuna=function(a){arrayLocal=[];arrayLocal=1<this.dadosModificados?this.dadosModificados:this.dados;if(arrayLocal.length==a.length){for(var b=0;b<arrayLocal.length;b++)arrayLocal[b].splice(2,0,a[b]);this.dadosModificados=arrayLocal}else return console.log("O tamanho da coluna esta incorreto."),!1};
Grafico.prototype.getCores=function(a){a=a?this.dadosModificados:this.dados;for(var b=this.cores.length,c=0,d=[],e=2;e<a[0].length;e++)if("style"==a[0][e].role)for(var f=0;f<a.length;f++)a[f].splice(e,1);d.push(a[0]);d[0].push({role:"style"});for(e=1;e<a.length;e++)c==b&&(c=0),d.push(a[e]),d[e].push(this.cores[c]),c++;return d};Grafico.prototype.setCores=function(a){a instanceof Array&&1<=a.length&&(this.cores=a,this.dadosModificados=1<this.dadosModificados.length?this.getCores(!0):this.getCores())};
Grafico.prototype.setTotal=function(a,b){if(isNaN(a))console.log("\u00c9 necessario informar pelo menos uma coluna");else{var c=0;var d=1<this.dadosModificados.length?this.dadosModificados:this.dados;"ultima"==b?b=d.length-1:isNaN(b)&&(b=void 0);for(var e=1;e<d.length;e++)e!=b&&(c+=d[e][a]);this.total=c}};Grafico.prototype.setOpcoes=function(a){this.opcoes=a};
Grafico.prototype.getDados=function(a,b){var c;Array.isArray(this.dados)&&Array.isArray(this.dados[0])&&"object"===typeof this.opcoes&&(c=a?google.visualization.arrayToDataTable(this.getPercentual(b)):1<this.dadosModificados.length?google.visualization.arrayToDataTable(this.dadosModificados):google.visualization.arrayToDataTable(this.dados));return c};
Grafico.prototype.getPizza=function(){var a=this.getDados(),b=new google.visualization.PieChart(document.getElementById(this.id));b.draw(a,this.opcoes);this.refGraf=b};Grafico.prototype.getColuna=function(a,b){var c=this.getDados(a,b),d=new google.visualization.ColumnChart(document.getElementById(this.id));d.draw(c,this.opcoes);this.refGraf=d};
Grafico.prototype.getBarra=function(a,b){var c=this.getDados(a,b),d=new google.visualization.BarChart(document.getElementById(this.id));d.draw(c,this.opcoes);this.refGraf=d};Grafico.prototype.getLinha=function(a,b){var c=this.getDados(a,b),d=new google.visualization.LineChart(document.getElementById(this.id));d.draw(c,this.opcoes);this.refGraf=d};Grafico.prototype.getRefGraf=function(){return this.refGraf};
Grafico.prototype.setAnotacoes=function(){var a=[];if(0<this.dadosModificados.length)var b=this.dadosModificados;else b=this.dados,console.log(JSON.stringify(this.dados));a.push(b[0]);b.forEach(function(b,c){if(0<c){a.push([]);var d=1;b.forEach(function(b,e){1>e?a[c][e]=b:("string"===typeof b&&-1!=b.search("R")?(console.log(b),a[c][d]=parseFloat(desconverter(b))):a[c][d]=b,a[c][d+1]=b,d+=2)})}});var c=[],d=1;a[0].forEach(function(a,b){1>b?c.push(a):(c[d]=a,c[d+1]={role:"annotation"},d+=2)});a[0]=
c;console.log(a);this.dados=a;0<this.dadosModificados.length?this.dadosModificados=a:this.dados=a};var Formulario=function(){this.dados={}};Formulario.prototype.validaData=function(a){if("undefined"===typeof $(a).val())return console.log("N\u00e3o foi poss\u00edvel encontrar este campo. "+a),!1;a=$(a).val();return-1==a.search(/^[2][0][0-9][0-9]-([0][0-9]|[1][0-2])-([0-2][0-9]|[3][0-1])$/g)?(alert("A data informada esta no formato incorreto."),!1):new Date(a)};
Formulario.prototype.deMenorQueAte=function(a,b){if("string"===typeof a&&"string"===typeof b){var c=this.validaData(a);var d=this.validaData(b)}else if("undefined"==typeof c||"undefined"==typeof d||0==typeof c||0==typeof d)return console.log("Os objetos enviados n\u00e3o s\u00e3o datas."),!1;if(c.getTime()>d.getTime())return alert("A data DE nao deve ser maior que a data ATE."),!1;c=c.getUTCFullYear()+"-"+(9<c.getUTCMonth()+1?c.getUTCMonth()+1:"0"+(c.getUTCMonth()+1))+"-"+(9<c.getUTCDate()?c.getUTCDate():
"0"+c.getUTCDate());d=d.getUTCFullYear()+"-"+(9<d.getUTCMonth()+1?d.getUTCMonth()+1:"0"+(d.getUTCMonth()+1))+"-"+(9<d.getUTCDate()?d.getUTCDate():"0"+d.getUTCDate());this.dados.de=c;this.dados.ate=d;return!0};
Formulario.prototype.validaCampo=function(a){if("undefined"===typeof $(a).val())return console.log("N\u00e3o foi poss\u00edvel encontrar este campo. "+a),!1;var b=$(a).val();if(""===b||"undefined"===typeof b)return console.log("Valor do campo n\u00e3o foi definido."),alert("Um campo n\u00e3o foi preenchido."),!1;this.dados[a.slice(1)]=b.toString();return!0};
Formulario.prototype.validaArquivo=function(a,b){if(!Array.isArray(b))return console.log("Os tipos enviados n\u00e3o est\u00e3o na forma de array."),!1;if(!document.getElementById(a)||!document.getElementById(a).files)return console.log("O id escolhido n\u00e3o existe ou este ID informado n\u00e3o \u00e9 de um input file: "+a),!1;var c=document.getElementById(a).files;if(1>c.length)return alert("Por favor envie pelo menos um arquivo."),!1;for(var d=0;d<c.length;d++){var e=c[d].name.split(".");console.log(e[1]);
if(-1==b.indexOf(e[1]))return alert("Tipo incorreto, somente \u00e9 aceito tipos: "+b.join(",")),!1}return!0};
Formulario.prototype.atualizarDados=function(a){$("#pesquisar").click(function(b){b.preventDefault();var c=new Formulario;c.deMenorQueAte("#data1","#data2")&&c.validaCampo("#grupos")&&c.validaCampo("#lojas")&&$.ajax({url:"/set_salvar_cookies",method:"POST",data:c.dados}).done(function(b){usuario.dados.de=c.dados.de;usuario.dados.ate=c.dados.ate;usuario.dados.grupo_selecionado=c.dados.grupos;usuario.dados.loja_selecionada=c.dados.lojas;a()}).fail(function(a){console.log("ERRO.")})})};
function converter(a){a=a.replace(".",",");a=a.split("").reverse();for(var b="",c=0,d=0;d<a.length;d++)4>c?(c+=1,b+=a[d]):(b=0==c%3?b+("."+a[d]):b+a[d],c+=1);a=b.split("").reverse();"."===a[0]?a[0]="":"-"===a[0]&&"."===a[1]&&(a[1]="");return a="R$ "+a.join("")}var Usuario=function(){this.dados={};this.obterCookie()};
Usuario.prototype.obterCookie=function(){for(var a=decodeURIComponent(document.cookie).split(";"),b=0;b<a.length;b++){var c=a[b].split("=");this.dados[c[0].trim()]=c[1].replace(/\\054/g,",")}};Usuario.prototype.getGrupoResumido=function(){for(var a=[],b=this.dados.grupo_selecionado.split(","),c=0;c<b.length;c++){var d=b[c].split("|")[1].split(" ")[1];a.push(d)}return a.join()};Usuario.prototype.getGrupoParaUrl=function(){return this.getGrupoResumido().replace(/,/g,"!")};
Usuario.prototype.getLojaParaUrl=function(){return lj=this.dados.loja_selecionada.replace(",","!").replace(/"/g,"")};
var BarraDeProgresso=function(){this.contador=0;this.barra='<div class="campo_barra"><p class="text-center">\n      Aguarde, estamos atualizando os dados</p><div class="progress">\n      <div class="progress-bar progress-bar-striped active" role="progressbar"\n\t  aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width:1%">0%</div></div></div>\n\t  ';this.alvo="";this.tempoIntervalo=0};
BarraDeProgresso.prototype.incluirBarra=function(a){if("string"===typeof a){this.alvo=a;if(1>$(a).length)return console.log("N\u00e3o encontrado o elemento "),!1;$(a).empty();$(a).html(this.barra)}else return console.log("O idOuClasse enviado n\u00e3o \u00e9 uma string."),!1};BarraDeProgresso.prototype.ativarBarra=function(a,b){this.contador="number"!==typeof a?0:a;var c=this;this.tempoIntervalo=setInterval(function(){c.cronometro()},b)};
BarraDeProgresso.prototype.pararBarra=function(){this.contador=100};BarraDeProgresso.prototype.cronometro=function(){101>this.contador?($(".progress-bar").attr("aria-valuenow",this.contador),$(".progress-bar").attr("style","width:"+this.contador+"%"),$(".progress-bar").text(this.contador+"% Completo"),this.contador++):clearInterval(this.tempoIntervalo)};
function desconverter(a){return"string"!==typeof a?(console.log("FAVOR ENVIAR STRING."),!1):a=parseFloat(a.replace("R$","").replace(/\./g,"").replace(",",".")).toFixed(2)}
var Controlador=function(){this.ate=this.de=this.lojas=this.grupos=this._refAjax="";this.barra=new BarraDeProgresso;this.opcoesDataTable={bPaginate:!1,ordering:!0,fixedColumns:{leftColumns:3},colReorder:!0,scrollY:"400px",scrollCollapse:!0,scrollX:!0,info:!1,responsive:!0,autoWidth:!0,search:{regex:!0},language:{search:"Procurar na tabela",emptyTable:"Nao ha dados",zeroRecords:"Sem registros com valor informado",decimal:",",thousands:"."}}};
Controlador.prototype.pesquisar=function(a){if("string"!==typeof a)return console.log("FAVOR DEFINIR A PAGINA ALVO"),!1;var b=this;$("#pesquisar").bind("click",function(){var c=$("#grupos").val();var d=$("#lojas").val();var e=$("#data1").val();var f=$("#data2").val();if(!b.validarCampos(c,d,e,f))return!1;b.barra.incluirBarra("#corpo_pagina2");b.barra.ativarBarra(0,2E3);b._refAjax=$.ajax({method:"POST",url:a,data:{grupos:b.grupos,lojas:b.lojas,de:b.de,ate:b.ate}}).done(function(a){b.criarTabela(a)}).fail(function(){alert("ERRO AO ENVIAR OS DADOS, CASO PERSISTA ENTRAR EM CONTATO COM O ADMINISTRADOR DO SITE.")})})};
Controlador.prototype.cancelaAjax=function(a){"undefined"!==typeof this._refAjax&&(this._refAjax.abort(),"undefined"!==typeof a&&alert(a));return!0};
Controlador.prototype.validarCampos=function(a,b,c,d){var e=new Date(c),f=new Date(d);if(!(a instanceof Array)||1>a.length||!(b instanceof Array)||1>b.length)return alert("GRUPO(S) E/OU LOJA(S) N\u00c3\u0192O SELECIONADOS. VERIFICAR."),!1;if(e>f)return alert("A DATA DE N\u00c3O PODE SER MAIOR QUE A DATA AT\u00c9."),!1;this.grupos=a.join(",");this.lojas=b.join(",");this.de=c;this.ate=d;return!0};
Controlador.prototype.baixarEmExcel=function(a,b,c,d){if(1>$(b).length)return alert("ESTE BOT\u00c3O N\u00c3O EXISTE. "+b),!1;if(1>$(a).length)return alert("ESTA TABELA NAO EXISTE "+a),!1;if(1>$(a+" tbody tr").length)return alert("ESTA TABELA N\u00c3O TEM DADOS "+a),!1;$(b).bind("click",function(b){b.preventDefault();if("undefined"===typeof Storage){alert("N\u00c3O ser\u00e1 possivel escolher as colunas desejadas para baixar.");var e={cabe:[],corpo:[]};$(a+" thead tr").children().each(function(a,
b){e.cabe.push($(this).text())});$(a+" tbody").children().each(function(a,b){var c=[];$(this).children().each(function(a,b){c.push($(this).text())});e.corpo.push(c)});$.ajax({method:"POST",url:d,data:{objeto:JSON.stringify(e)}}).done(function(a){window.location.href=a}).fail(function(){alert("ERRO AO BAIXAR EM EXCEL. SE PERSISTIR ENTRAR EM CONTATO COM O ADMINISTRADOR DO SITE.")});return!1}var k=[];localStorage.getItem(c)&&(k=JSON.parse(localStorage.getItem("colunas_selecionadas")));var l="";$(a+" thead tr").children().each(function(a,
b){l=-1!=k.indexOf(Number(a).toString())?l+('<input class="checa_colunas" checked type="checkbox" value="'+a+'" />'+$(this).text()+"<br/>"):l+'<input class="checa_colunas" type="checkbox" value="indice" /> VALOR<br/>'.replace("VALOR",$(this).text()).replace("indice",a)});l+='<p class="text-center">'+(new Botao("BAIXAR","btn btn-xs btn-danger","baixar_selecionados")).getBotao()+"</p>";b=(new Titulo("ESCOLHA AS COLUNAS A BAIXAR",4,"text-center text-danger")).getTitulo();b=new Modal(b,l,'<button class="btn btn-xs btn-default" data-dismiss="modal">FECHAR</button>',
"","modalExcel");b.setTipoModal(!0);$("#modalExcel").remove();$("body").append(b.getModal());b.executaModal();$("#baixar_selecionados").bind("click",function(b){b=$(".checa_colunas");var e=[];$(b).each(function(a,b){$(this).prop("checked")&&e.push($(this).val())});localStorage.setItem(c,JSON.stringify(e));var f={cabe:[],corpo:[]};$(a+" thead tr").children().each(function(a,b){-1!=e.indexOf(Number(a).toString())&&f.cabe.push($(this).text())});$(a+" tbody").children().each(function(a,b){var c=[];$(this).children().each(function(a,
b){-1!=e.indexOf(Number(a).toString())&&c.push($(this).text())});f.corpo.push(c)});$('[data-dismiss="modal"]').trigger("click");$.ajax({method:"POST",url:d,data:{objeto:JSON.stringify(f)}}).done(function(a){window.location.href=a}).fail(function(){alert("ERRO AO BAIXAR EM EXCEL. SE PERSISTIR ENTRAR EM CONTATO COM O ADMINISTRADOR DO SITE.")})})})};var Utilitario={converter:function(a){},desconverter:function(a){}};